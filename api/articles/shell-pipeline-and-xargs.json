{"title":"管道操作符和xargs的区别","uid":"b44d691eb810037cdb9efa730e0764ea","slug":"shell-pipeline-and-xargs","date":"2023-10-31T17:38:16.000Z","updated":"2023-11-01T08:28:03.753Z","comments":true,"path":"api/articles/shell-pipeline-and-xargs.json","keywords":null,"cover":"https://source.unsplash.com/a-computer-screen-with-a-program-running-on-it-NLSXFjl_nhc/1200x628","content":"<p>之前一直没有理解shell中管道操作符和xargs的区别,为什么有一些命令要用可以直接用管道操作符链接,为什么一些需要加个<code>xargs</code>,最近翻了一些文档之后,终于理解</p>\n<h1 id=\"官方定义\"><a href=\"#官方定义\" class=\"headerlink\" title=\"官方定义\"></a>官方定义</h1><p>最好的解释永远来自于官方文档,正所谓真传一句话,假传万卷书.</p>\n<h2 id=\"管道操作符\"><a href=\"#管道操作符\" class=\"headerlink\" title=\"管道操作符\"></a>管道操作符</h2><p>A pipeline is a sequence of one or more commands separated by one of the control operators ‘|’ or ‘|&amp;’.<br>The output of each command in the pipeline is connected via a pipe to the input of the next command. That is, each command reads the previous command’s output. This connection is performed before any redirections specified by command1.</p>\n<p>简单来说就是,管道操作符连接一系列命令,前面的标准输出作为后面的标准输入</p>\n<h2 id=\"xargs\"><a href=\"#xargs\" class=\"headerlink\" title=\"xargs\"></a>xargs</h2><p>The xargs utility reads space, tab, newline and end-of-file delimited strings from the standard input and executes utility with the strings<br>     as arguments.<br>Any arguments specified on the command line are given to utility upon each invocation, followed by some number of the arguments read from<br>the standard input of xargs.  This is repeated until standard input is exhausted.</p>\n<p>Spaces, tabs and newlines may be embedded in arguments using single (<code> &#39; &#39;&#39;) or double (</code>“‘’) quotes or backslashes (&#96;&#96;&#39;‘).  Single<br>quotes escape all non-single quote characters, excluding newlines, up to the matching single quote.  Double quotes escape all non-double<br>quote characters, excluding newlines, up to the matching double quote.  Any single character, including newlines, may be escaped by a<br>backslash.</p>\n<p>简单来说,就是xargs是从标准输入读取内容,作为<code>xrags</code>命令后面跟的命令的参数</p>\n<h2 id=\"举个例子\"><a href=\"#举个例子\" class=\"headerlink\" title=\"举个例子\"></a>举个例子</h2><h3 id=\"管道操作符-1\"><a href=\"#管道操作符-1\" class=\"headerlink\" title=\"管道操作符\"></a>管道操作符</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki dracula\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #8BE9FD\">echo</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #E9F284\">&quot;</span><span style=\"color: #F1FA8C\">hello \\n world</span><span style=\"color: #E9F284\">&quot;</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #FF79C6\">|</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #50FA7B\">grep</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">hello</span></span></code></pre></div><p><code>echo &quot;hello world&quot;</code> 会将<code>hello world</code>字符串输出到<strong>标准输出</strong>,然后通过管道操作符作为 <code>grep hello</code>这条命令的<strong>标准输入</strong></p>\n<p>上面的命令相当于下面的命令</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki dracula\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">grep</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">hello</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #6272A4\"># 执行完按回车</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">hello</span><span style=\"color: #F8F8F2\">       </span><span style=\"color: #6272A4\"># 输入hello world</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">hello</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #6272A4\"># 打印hello</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">world</span><span style=\"color: #F8F8F2\">   </span><span style=\"color: #6272A4\"># 输入world 什么也不打印</span></span></code></pre></div><h3 id=\"xargs-1\"><a href=\"#xargs-1\" class=\"headerlink\" title=\"xargs\"></a>xargs</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki dracula\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #50FA7B\">xargs</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">ls</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #6272A4\">#按回车</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">/usr</span><span style=\"color: #F8F8F2\">     </span><span style=\"color: #6272A4\">#按ctrl-d 会打印/usr目录下的所有文件</span></span></code></pre></div><p><code>ctrl-d</code>相当于向<code>shell</code>输入了一个<code>eof</code>,表示输入完成</p>\n<h3 id=\"组合\"><a href=\"#组合\" class=\"headerlink\" title=\"组合\"></a>组合</h3><p>这两个命令一般是组合使用</p>\n<p>比如:</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki dracula\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #50FA7B\">cat</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">a.txt</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #FF79C6\">|</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #50FA7B\">xargs</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">mkdir</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">-p</span><span style=\"color: #F8F8F2\"> </span></span></code></pre></div><p>这条命令的含义是,将a.ext文件中的内容作为文件夹名,新建一个文件夹<br>其中,<code>cat a.txt</code>命令是将<code>a.txt</code>中的内容输出到<strong>标准输出</strong>,然后通过管道操作符作为<code>xargs mkdir -p</code>这个命令的标准输入,<code>xargs</code>将前面传过来的标准输入作为<code>mkdir -p</code> 这条命令的<strong>参数</strong></p>\n<h1 id=\"标准输入-标准输出-参数\"><a href=\"#标准输入-标准输出-参数\" class=\"headerlink\" title=\"标准输入&#x2F;标准输出&#x2F;参数\"></a>标准输入&#x2F;标准输出&#x2F;参数</h1><p>在linux中,默认情况下</p>\n<p>标准输入是指键盘<br>标准输出是指屏幕<br>参数就是命令后面跟着的内容</p>\n<h2 id=\"举个例子-1\"><a href=\"#举个例子-1\" class=\"headerlink\" title=\"举个例子\"></a>举个例子</h2><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki dracula\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #50FA7B\">$</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">cat</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">hello-world.txt</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #6272A4\">#  hello-world.txt 是参数</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">$</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">cat</span><span style=\"color: #F8F8F2\">   </span><span style=\"color: #6272A4\">#执行cat命令后回车</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">$</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">hello</span><span style=\"color: #F8F8F2\">  </span><span style=\"color: #6272A4\">#输入hello   这里的hello就是标准输入</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">$</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">hello</span><span style=\"color: #F8F8F2\">  </span><span style=\"color: #6272A4\"># 命令行打印hello  这里打印的hello就是找女友输入</span></span></code></pre></div>","text":"shell中管道操作符和xargs的区别...","permalink":"/post/shell-pipeline-and-xargs","photos":[],"count_time":{"symbolsCount":"2.1k","symbolsTime":"2 mins."},"categories":[{"name":"shell","slug":"shell","count":1,"path":"api/categories/shell.json"}],"tags":[{"name":"shell","slug":"shell","count":1,"path":"api/tags/shell.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%AE%98%E6%96%B9%E5%AE%9A%E4%B9%89\"><span class=\"toc-text\">官方定义</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%AE%A1%E9%81%93%E6%93%8D%E4%BD%9C%E7%AC%A6\"><span class=\"toc-text\">管道操作符</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#xargs\"><span class=\"toc-text\">xargs</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90\"><span class=\"toc-text\">举个例子</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AE%A1%E9%81%93%E6%93%8D%E4%BD%9C%E7%AC%A6-1\"><span class=\"toc-text\">管道操作符</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#xargs-1\"><span class=\"toc-text\">xargs</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BB%84%E5%90%88\"><span class=\"toc-text\">组合</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5-%E6%A0%87%E5%87%86%E8%BE%93%E5%87%BA-%E5%8F%82%E6%95%B0\"><span class=\"toc-text\">标准输入&#x2F;标准输出&#x2F;参数</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%BE%E4%B8%AA%E4%BE%8B%E5%AD%90-1\"><span class=\"toc-text\">举个例子</span></a></li></ol></li></ol>","author":{"name":"finger","slug":"blog-author","avatar":"/assets/images/logo.jpg","link":"/","description":"do something funny","socials":{"github":"https://github.com/fingergohappy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"neovim配置formatters","uid":"278663bc5f0ce8aa9f1bcfa6468a4791","slug":"neovim-config-formatter","date":"2023-11-01T16:05:14.000Z","updated":"2023-11-01T08:28:03.753Z","comments":true,"path":"api/articles/neovim-config-formatter.json","keywords":null,"cover":"https://source.unsplash.com/gray-laptop-computer-turned-on-EaB4Ml7C7fE/1200x628","text":"neovim配置formatters...","permalink":"/post/neovim-config-formatter","photos":[],"count_time":{"symbolsCount":"1.6k","symbolsTime":"1 mins."},"categories":[{"name":"neovim奇技淫巧","slug":"neovim奇技淫巧","count":2,"path":"api/categories/neovim奇技淫巧.json"}],"tags":[{"name":"neovim","slug":"neovim","count":2,"path":"api/tags/neovim.json"}],"author":{"name":"finger","slug":"blog-author","avatar":"/assets/images/logo.jpg","link":"/","description":"do something funny","socials":{"github":"https://github.com/fingergohappy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"idea怎么在project 选项卡中隐藏特定的文件和文件夹","uid":"10511efcdf050e7b6a632b67005878d9","slug":"idea-how-to-hide-folder-in-project","date":"2023-10-13T15:01:29.000Z","updated":"2023-11-01T08:28:03.745Z","comments":true,"path":"api/articles/idea-how-to-hide-folder-in-project.json","keywords":null,"cover":"https://source.unsplash.com/a-close-up-of-a-laptop-computer-with-code-on-the-screen-lYFERR5dTG4/1200x628","text":"idea在特定选项卡中隐藏特定的文件或文件夹...","permalink":"/post/idea-how-to-hide-folder-in-project","photos":[],"count_time":{"symbolsCount":134,"symbolsTime":"1 mins."},"categories":[{"name":"some litttle tricks","slug":"some-litttle-tricks","count":2,"path":"api/categories/some-litttle-tricks.json"}],"tags":[{"name":"idea","slug":"idea","count":2,"path":"api/tags/idea.json"}],"author":{"name":"finger","slug":"blog-author","avatar":"/assets/images/logo.jpg","link":"/","description":"do something funny","socials":{"github":"https://github.com/fingergohappy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}