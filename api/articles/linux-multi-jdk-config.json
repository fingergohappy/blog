{"title":"linux下安装多版本jdk并进行切换","uid":"db3a8f8bcab31391aecd5f37a5eb1f26","slug":"linux-multi-jdk-config","date":"2024-01-05T15:24:32.000Z","updated":"2024-04-09T07:55:19.928Z","comments":true,"path":"api/articles/linux-multi-jdk-config.json","keywords":null,"cover":"https://source.unsplash.com/1200x628","content":"<h1 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h1><p>进行程序升级的时候,可能要在服务器上安装多个版本的<code>jdk</code>并且进行切换,我在本机使用的是<code>asdf</code>,这个东西用来管理多版本还是挺香的,不过由于服务器无法访问国际互联网,只能寻找其他替代方案.</p>\n<h1 id=\"alternatives\"><a href=\"#alternatives\" class=\"headerlink\" title=\"alternatives\"></a>alternatives</h1><p><code>alternatives</code>是<code>linux</code>系统中一个十分强大的命令(此句是废话,linux每个命令都很强大),<br>主要功能就是为了解决,系统中有类似的命令,给用户一个选择的方式,在多个<code>jdk</code>的切换就很有用,可以在多个<code>jdk</code>版本切换</p>\n<h1 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a>配置</h1><h2 id=\"删除原来的内容\"><a href=\"#删除原来的内容\" class=\"headerlink\" title=\"删除原来的内容\"></a>删除原来的内容</h2><p>如果你原来配置<code>jdk</code>方式是通过修改环境变量来实现的,要现去除掉这个配置,一般在<code>/etc/profile</code>或者<code>/etc/environment</code>或者<code>~/.bash_profile</code>这几个文件中,将原来的配置删除掉</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 全部注释掉</span></span><br><span class=\"line\"><span class=\"comment\">#export JAVA_HOME=/var/local/jdk1.8.0_202</span></span><br><span class=\"line\"><span class=\"comment\">#export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span></span><br><span class=\"line\"><span class=\"comment\">#export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib</span></span><br><span class=\"line\"><span class=\"comment\">#export PATH=$&#123;JAVA_HOME&#125;/bin:$PATH</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>然后执行<code>source /etc/profile</code>生效,如果不生效就重新登录下.<br>这部完成后,再验证下,<code>exho $PATH</code>,看下<code>java</code>命令是不是在<code>PATH</code>中</p>\n<h2 id=\"使用laternatives配置jdk\"><a href=\"#使用laternatives配置jdk\" class=\"headerlink\" title=\"使用laternatives配置jdk\"></a>使用laternatives配置jdk</h2><p>删除掉原来的配置后,就可以使用<code>alternatives</code>来配置<code>java</code>命令了,<br>找到你两个<code>jdk</code>的位置,然后执行一下命令:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo alternatives --install /usr/bin/java java /opt/jdk1.8.0_301/bin/java 1</span><br><span class=\"line\">sudo alternatives --install /usr/bin/javac javac /opt/jdk1.8.0_301/bin/javac 1</span><br><span class=\"line\"></span><br><span class=\"line\">sudo alternatives --install /usr/bin/java java /opt/jdk-11.0.12/bin/java 2</span><br><span class=\"line\">sudo alternatives --install /usr/bin/javac javac /opt/jdk-11.0.12/bin/javac 2</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"切换jdk\"><a href=\"#切换jdk\" class=\"headerlink\" title=\"切换jdk\"></a>切换jdk</h2><p>后面如果想切换<code>java</code>版本,就可以使用命令:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ alternatives --config java</span><br><span class=\"line\"></span><br><span class=\"line\">There are 2 programs <span class=\"built_in\">which</span> provide <span class=\"string\">&#x27;java&#x27;</span>.</span><br><span class=\"line\"></span><br><span class=\"line\">  Selection    Command</span><br><span class=\"line\">-----------------------------------------------</span><br><span class=\"line\">   1           /var/local/jdk1.8.0_202/bin/java</span><br><span class=\"line\">*+ 2           /usr/local/jdk-11/bin/java</span><br><span class=\"line\"></span><br><span class=\"line\">Enter to keep the current selection[+], or <span class=\"built_in\">type</span> selection number:</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>输入一个序号就完成<code>java</code>版本的切换了</p>\n","text":"如何优雅的linux下安装多版本的jdk并进行切换...","permalink":"/post/linux-multi-jdk-config","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"linux","slug":"linux","count":1,"path":"api/categories/linux.json"}],"tags":[{"name":"linux","slug":"linux","count":2,"path":"api/tags/linux.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%83%8C%E6%99%AF\"><span class=\"toc-text\">背景</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#alternatives\"><span class=\"toc-text\">alternatives</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">配置</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%A0%E9%99%A4%E5%8E%9F%E6%9D%A5%E7%9A%84%E5%86%85%E5%AE%B9\"><span class=\"toc-text\">删除原来的内容</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8laternatives%E9%85%8D%E7%BD%AEjdk\"><span class=\"toc-text\">使用laternatives配置jdk</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%87%E6%8D%A2jdk\"><span class=\"toc-text\">切换jdk</span></a></li></ol></li></ol>","author":{"name":"finger","slug":"blog-author","avatar":"/assets/images/logo.jpg","link":"/","description":"do something funny","socials":{"github":"https://github.com/fingergohappy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"hexo push后自动部署github pages","uid":"3a126c86808bf36e1aa89411751a60c9","slug":"hexo-auto-deploy","date":"2023-09-20T09:31:18.000Z","updated":"2024-04-09T07:55:19.920Z","comments":true,"path":"api/articles/hexo-auto-deploy.json","keywords":null,"cover":"https://source.unsplash.com/lzh3hPtJz9c/1200x628","text":"hexo 提交后自动部署github page...","permalink":"/post/hexo-auto-deploy","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"hexo","slug":"hexo","count":1,"path":"api/categories/hexo.json"}],"tags":[{"name":"hexo","slug":"hexo","count":1,"path":"api/tags/hexo.json"}],"author":{"name":"finger","slug":"blog-author","avatar":"/assets/images/logo.jpg","link":"/","description":"do something funny","socials":{"github":"https://github.com/fingergohappy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"gradle spring boot 打包无依赖jar","uid":"0610eea3c26eecbde57cb388bda23db3","slug":"gradle-spring-boot-without-dependency","date":"2023-12-22T20:21:39.000Z","updated":"2024-04-09T07:55:19.920Z","comments":true,"path":"api/articles/gradle-spring-boot-without-dependency.json","keywords":null,"cover":"https://source.unsplash.com/1200x628","text":"gradle将spring boot项目打包成无依赖jar包的轻量级包...","permalink":"/post/gradle-spring-boot-without-dependency","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[{"name":"java","slug":"java","count":2,"path":"api/categories/java.json"}],"tags":[{"name":"gradle","slug":"gradle","count":2,"path":"api/tags/gradle.json"},{"name":"java","slug":"java","count":2,"path":"api/tags/java.json"}],"author":{"name":"finger","slug":"blog-author","avatar":"/assets/images/logo.jpg","link":"/","description":"do something funny","socials":{"github":"https://github.com/fingergohappy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}